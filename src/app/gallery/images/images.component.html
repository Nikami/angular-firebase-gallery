<h1 class="heading">

  <span [routerLink]="['/gallery/categories']"
        matTooltip="{{ 'IMAGES.GALLERY' | translate }}"
        class="d-flex align-items-center mono-font accent-text2 heading-logo heading-link">
    <mat-icon>pages</mat-icon>
    <mat-icon>chevron_left</mat-icon>
  </span>{{ categoryName }}

</h1>

<div class="d-flex mb-5">
  <mat-slide-toggle [(ngModel)]="editMode">
    {{ 'EDIT_MODE' | translate }}
  </mat-slide-toggle>
</div>

<div #imagesContainer class="card-columns images">

  <div *ngFor="let img of imgs; let i = index"
       [afgDnD]="{id: img.id, order: img.order}"
       (dropped)="onImageDrop($event)"
       (dragging)="onImageDragging($event)"
       [attr.draggable]="editMode"
       class="d-inline-block img-block">

      <div class="card d-flex flex-column align-items-center position-relative">
        <button (click)="removeImage(img)"
                [ngClass]="{'visible animation-pulse': editMode && !isDragging}"
                mat-mini-fab=""
                color="warn"
                type="button"
                class="remove-btn">
          <mat-icon>clear</mat-icon>
        </button>

        <div (click)="openImageDialog(img)" class="position-relative">
          <img src="{{ img.url }}"
               draggable="false"
               [afgSpinner]="{isShown: true, onLoad: true}"
               class="img-fluid gallery-img pointer">
        </div>

        <div class="mono-font text-break image-title">
          {{ img.title }}
        </div>

        <div class="align-items-center justify-content-center mask">
          <mat-icon>compare_arrows</mat-icon>
        </div>
      </div>

  </div>

</div>

<div class="container fixed-bottom d-flex justify-content-end">

  <button (click)="openUploadDialog()"
          matTooltip="{{ 'IMAGES.UPLOAD_IMG' | translate }}"
          type="button"
          mat-fab=""
          class="mb-5">
    <mat-icon>add_a_photo</mat-icon>
  </button>

</div>
